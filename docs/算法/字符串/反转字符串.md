# 反转字符串
> 本文作者：程序员飞云
>
> 本站地址：[https://www.flycode.icu](https://www.flycode.icu)

[反转字符串](https://leetcode.cn/problems/reverse-string/)

[反转字符串 II](https://leetcode.cn/problems/reverse-string-ii/)

[仅仅反转字母](https://leetcode.cn/problems/reverse-only-letters/)



## 反转字符串

编写一个函数，其作用是将输入的字符串反转过来。输入字符串以字符数组 `s` 的形式给出。

不要给另外的数组分配额外的空间，你必须**[原地](https://baike.baidu.com/item/原地算法)修改输入数组**、使用 O(1) 的额外空间解决这一问题

> **示例 1：**
>
> ```
> 输入：s = ["h","e","l","l","o"]
> 输出：["o","l","l","e","h"]
> ```
>
> **示例 2：**
>
> ```
> 输入：s = ["H","a","n","n","a","h"]
> 输出：["h","a","n","n","a","H"]
> ```



直接交换最左和最右元素的位置就行，对撞型双指针

```java
 public void reverseString(char[] s) {
        int left =0;
        int right =s.length-1;
        while(left<right){
            char temp = s[left];
            s[left] =s[right];
            s[right] = temp;
            left++;
            right--;
        }
    }
```



## 反转字符串 II

给定一个字符串 `s` 和一个整数 `k`，从字符串开头算起，每计数至 `2k` 个字符，就反转这 `2k` 字符中的前 `k` 个字符。

- 如果剩余字符少于 `k` 个，则将剩余字符全部反转。
- 如果剩余字符小于 `2k` 但大于或等于 `k` 个，则反转前 `k` 个字符，其余字符保持原样。

> **示例 1：**
>
> ```
> 输入：s = "abcdefg", k = 2
> 输出："bacdfeg"
> ```
>
> **示例 2：**
>
> ```
> 输入：s = "abcd", k = 2
> 输出："bacd"
> ```

具体步骤可画两个示意图

![image-20240222104642735](http://cdn.flycode.icu/codeCenterImg/image-20240222104642735.png)

![image-20240222104805238](http://cdn.flycode.icu/codeCenterImg/image-20240222104805238.png)

步骤基本上就出来了，首先我们需要遍历整个字符串，需要转换为数组便于我们使用下标来进行判断。

这个循环的步长就不是1，而是2k，我们需要将当前这个2k里面的前k个元素进行反转。



```java
 public String reverseStr(String s, int k) {
        int len = s.length();
        char [] arr = s.toCharArray();
        for(int i=0;i<len; i+=2*k){
            // 如果i+k>len，下标越界
            reverseArr(arr,i,Math.min(i+k,len)-1);
        }
        return new String(arr);
    }


    public void reverseArr(char [] arr,int left,int right){
        while(left<right){
            char temp = arr[left];
            arr[left] = arr[right];
            arr[right] = temp;
            left++;
            right--; 
        }
    }
```

## 仅仅反转字母

给你一个字符串 `s` ，根据下述规则反转字符串：

- 所有非英文字母保留在原有位置。
- 所有英文字母（小写或大写）位置反转。

返回反转后的 `s` *。*

> **示例 1：**
>
> ```
> 输入：s = "ab-cd"
> 输出："dc-ba"
> ```
>
> **示例 2：**
>
> ```
> 输入：s = "a-bC-dEf-ghIj"
> 输出："j-Ih-gfE-dCba"
> ```
>
> **示例 3：**
>
> ```
> 输入：s = "Test1ng-Leet=code-Q!"
> 输出："Qedo1ct-eeLg=ntse-T!"
> ```



### 双指针

如果里面没有其余的符号，比如abcd，那就是将ad交换，bc交换，我们可以采用对撞型双指针，从字符串的两端进行遍历，这里为了便于使用，所以需要将字符串转换为数组。那么就变成了数组的双指针。

但是里面是有其他的字符，如何处理。我们依然是只交换字母，而不交换符号，遇到符号就跳过。在Java里面有一个`Character.isLetter`我们可以用来判断是否为字母。

```java
public String reverseOnlyLetters(String s) {
        char arr [] = s.toCharArray();
        int left = 0;
        int right = arr.length -1;
        while(left<right){
            // 判断是否是字母，如果都是字母就进行交换
            if(Character.isLetter(arr[left]) && Character.isLetter(arr[right])){
                char temp = arr[left];
                arr[left] = arr[right];
                arr[right] = temp;
                left++;
                right--;
            }
            // 左指针位置不是字母，跳过
            if(!Character.isLetter(arr[left])){
                left++;
            }
            // 右指针位置不是字母，跳过
            if(!Character.isLetter(arr[right])){
                right--;
            }
        }

        return new String(arr);
    }
```

